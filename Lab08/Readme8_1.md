# Лабораторная работа. Базовая настройка протокола EIGRP для IPv4
## 	Топология
![схема](https://github.com/VladimirDr/Labs/blob/master/Lab08/Cxema8_1.png)
## 	Таблица адресации
![схема](https://github.com/VladimirDr/Labs/blob/master/Lab08/Tabl8_1.png)
# Задачи
  ## Часть 1. Построение сети и проверка соединения
  ## Часть 2. Настройка маршрутизации EIGRP
  ## Часть 3. Проверка маршрутизации EIGRP
  ## Часть 4. Настройка пропускной способности и пассивных интерфейсов

# Часть 1:	Построение сети и проверка связи  
  
  ## Шаг 1:	Создайте сеть согласно топологии.
  Выполнено, схема в начале лабораторной работы.
  
  ## Шаг 2:	Настройте узлы ПК.
  Выполнено.
  ![схема](https://github.com/VladimirDr/Labs/blob/master/Lab08/PC8_1.png)
  
  ## Шаг 3:	Выполните запуск и перезагрузку маршрутизаторов.
  Выполнено.
  
  ## Шаг 4:	Произведите базовую настройку маршрутизаторов.
   1. "R*(config)#no ip domain-lookup" для всех 3-х устройств;
   2. "R*(config)#hostname R*" для всех 3-х устройств;
   3. "R*(config)#service password-encryption" для всех 3-х устройств;
   4. "R*(config)#banner motd # This is a secure system. Authorized Access Only! #" для всех 3-х устройств;
   5. "R*(config)#enable password class" для всех 3-х устройств;
   6. "R*(config)#line console 0", "R*(config-line)#password cisco", "R*(config-line)#login" для всех 3-х устройств,
      "R*(config)#line vty 0 4" и две аналогичные команды из строчки выше для всех 3-х устройств;
   7. "logging synchronous" изначально присутствует в конфиге для line con 0;
   8. Настроил IP-адреса для маршрутизаторов в соответствии с таблицей адресации. 
   
  ## Шаг 5:	Проверьте подключение.
  ![схема](https://github.com/VladimirDr/Labs/blob/master/Lab08/Ping8_1.png)
  
# Часть 2:	Настройка маршрутизации EIGRP
  ## Шаг 1:	Включите маршрутизацию EIGRP на маршрутизаторе R1. Используйте номер автономной системы 10.
     R1(config)# router eigrp 10
     
  ## Шаг 2:	Объявите напрямую подключенные сети на маршрутизаторе R1, используя шаблонную маску.
     R1(config-router)# network 10.1.1.0 0.0.0.3
     R1(config-router)# network 192.168.1.0 0.0.0.255
     R1(config-router)# network 10.3.3.0 0.0.0.3
     
  Комментарии: если не указать шаблонную маску, то маршрутизатор использует классовую маску и таким образом в процесс EIGRP
  могут быть включены порты, которые не должны в нём участвовать.
  Маску можно исключить во всех 3-х случаях, но тогда нам грозить описанная выше ситуация.
  
  
  ## Шаг 3:	Включите маршрутизацию EIGRP и объявите напрямую подключенные сети на маршрутизаторах R2 и R3.
     "R*(config)# router eigrp 10" для 2 и 3 маршрутизатора.
     "R2(config-router)# network 10.1.1.0 0.0.0.3"
     "R2(config-router)# network 192.168.2.0 0.0.0.255"
     "R2(config-router)# network 10.2.2.0 0.0.0.3"
     "R3(config-router)# network 10.3.3.0 0.0.0.3"
     "R3(config-router)# network 192.168.3.0 0.0.0.255"
     "R3(config-router)# network 10.2.2.0 0.0.0.3"
  ## Шаг 4:	Проверьте наличие сквозного соединения.
  ![схема](https://github.com/VladimirDr/Labs/blob/master/Lab08/Ping8_1(2).png)
  
# Часть 3:	Проверка маршрутизации EIGRP
  ## Шаг 1:	Анализ таблицы соседних устройств EIGRP
  ![схема](https://github.com/VladimirDr/Labs/blob/master/Lab08/R1_eigrp_8_1.png)
  
  ## Шаг 2:	Проанализируйте таблицу IP-маршрутизации EIGRP.
  ## Почему у маршрутизатора R1 два пути к сети 10.2.2.0/30? 
  Ответ:так как у R3 свой маршрут до сети 10.2.2.0/30 и из-за этого R1 видит второй маршрут. Через соседа R3.
  
  ## Шаг 3:	Проанализируйте таблицу соседних устройств EIGRP.
  ![схема](https://github.com/VladimirDr/Labs/blob/master/Lab08/R1_eigrp_top_8_1.png)
  
  ## Почему в таблице топологии маршрутизатора R1 отсутствуют возможные преемники?
     Ответ: Команда "show ip eigrp topology" показывает только преемников. Чтобы увидеть возможных преемников и все возможные маршруты к сети, необходимо использовать команду "show ip eigrp topology all-links".  
  
  
# Шаг 4:	Проверьте параметры маршрутизации EIGRP и объявленные сети.
![схема](https://github.com/VladimirDr/Labs/blob/master/Lab08/R1_ip_prot_8_1.png)     

  ## Ответьте на следующие вопросы, используя результаты команды show ip protocols.
     1.Какой номер автономной системы используется?  10
     2.Какие сети объявляются? Если я правильно помню, мы объявляем не сети, а порты, участвующие в EIGRP. Но в нашем случаем мы это сделали через объявление трёх сетей. Одной /24 и двух /30.
     3.Каково значение административной дистанции для маршрутов EIGRP? AD 90. 
     4.Сколько маршрутов с равной стоимостью по умолчанию использует EIGRP? По умолчанию 4. Но можно до 128 расширить, если я не ошибаюсь.
     
# Часть 4:	Настройка пропускной способности и пассивных интерфейсов.
  
  ## Шаг 1:	Изучите текущие настройки маршрутизации  
    1. "R1#show interfaces serial 1/0": MTU 1500 bytes, BW 1544 Kbit/sec, DLY 20000 usec, reliability 255/255, txload 1/255, rxload 1/255
    2. Какова пропускная способность по умолчанию для этого последовательного интерфейса?   BW 1544 Kbit/sec.
    3. Сколько маршрутов к сети 10.2.2.0/30 содержит таблица маршрутизации?  2 маршрута. На шаге 3, на картинке видно.
  
  ## Шаг 2:	Измените пропускную способность на маршрутизаторах.    
    a.	Измените пропускную способность для последовательных интерфейсов на маршрутизаторе R1:
        1.R1(config)# interface serial 1/0
        2.R1(config-if)# bandwidth 2000
        3.R1(config-if)# interface serial 1/1
        4.R1(config-if)# bandwidth 64
    b.  "R1#show interfaces serial 1/0" MTU 1500 bytes, BW 2000 Kbit/sec, DLY 20000 usec
    c.  "R1#show interfaces serial 1/1" MTU 1500 bytes, BW 64 Kbit/sec, DLY 20000 usec
    d.  "R1#show ip route"  "D        10.2.2.0/30 [90/2681856] via 10.1.1.2, 01:06:06, Serial1/0", а было 2. (Часть 3, шаг 2) 
        
        Выполните на маршрутизаторе R1 команду show ip route. Появились ли изменения в таблице маршрутизации? Если да, в чем они заключаются? Из-за изменения скорости порта, изменилась метрика EIGRP для serial 1/1. И в результате был выбран только один маршрут в сеть 10.2.2.0/30. С наименьшей метрикой EIGRP.
        
    e.	Измените пропускную способность для последовательных интерфейсов маршрутизаторов R2 и R3.
        1.R2(config)#interface serial 1/0
        2.R2(config-if)#bandwidth 2000
        3.R2(config)#interface serial 1/1
        4.R2(config-if)#bandwidth 2000
        5.R3(config)#interface serial 1/0
        6.R3(config-if)#bandwidth 64
        7.R3(config)#interface serial 1/1
        8.R3(config-if)#bandwidth 2000
 
 # Шаг 3:	Проверьте изменения пропускной способности.
     1. "R*#show interfaces serial 1/*" на всех 3-х устройствах. Всё сработало. 
     2. Исходя из заданной пропускной способности, попробуйте определить, как будут выглядеть таблицы маршрутизации маршрутизаторов R2 и R3 до выполнения команды show ip route. Останутся ли их таблицы маршрутизации прежними или изменятся? Для R2 останется прежней. Метрика изменится, но одинаково на обоих интерфейсах. А вот на R3 будет аналогично R1. Останется один маршрут в сеть 10.1.1.0/30.
     
 # Шаг 4:	Настройте на маршрутизаторах R1, R2 и R3 интерфейс G0/0 как пассивный.
    1. R*(config)# router eigrp 10  на 3-х устройствах.
    2. R*(config-router)# passive-interface ethernet 0/0  на 3-х устройствах.
  
 # Шаг 5:	Проверьте конфигурацию пассивных интерфейсов.
    1.  R*#show ip protocols  на 3-х устройствах. Везде  Passive Interface(s):
    Ethernet0/0.
    
 # 	Вопросы для повторения.
    При выполнении лабораторной работы можно было ограничиться только статической маршрутизацией. Каковы преимущества использования EIGRP? : Преимущества: автоматический расчёт маршрутов, исклучается человеческий фактори при статической маршрутизации, балансировка трафика, возможность увеличения сети, отказоустойчивость.
    
    

     
